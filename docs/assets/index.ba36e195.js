var J=Object.defineProperty,V=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var w=(t,n,a)=>n in t?J(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,h=(t,n)=>{for(var a in n||(n={}))B.call(n,a)&&w(t,a,n[a]);if(C)for(var a of C(n))$.call(n,a)&&w(t,a,n[a]);return t},v=(t,n)=>V(t,j(n));var R=(t,n)=>{var a={};for(var s in t)B.call(t,s)&&n.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&C)for(var s of C(t))n.indexOf(s)<0&&$.call(t,s)&&(a[s]=t[s]);return a};import{j as W,a as K,F as Y,T as z,D as G,p as Q,R as T,b as X,c as F,u as I,d as x,e as q,f as Z,l as g,g as ee,h as te,y as A,s as H,i as re,k as ae,m as P,_ as ne,n as se,o as oe,S as ce}from"./vendor.449095f1.js";const le=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}};le();const e=W,l=K,D=Y,ie=({className:t})=>e("div",{className:t}),de=()=>e("div",{className:"Header",children:e("div",{className:"Header__wrapper",children:l("div",{className:"Header__content",children:[e("a",{href:"https://adaptagency.com/",target:"_blank",rel:"noreferrer",className:"Header__logo",children:e(ie,{})}),e("span",{className:"Header__title",children:"Task Generator"}),e("div",{className:"Header__fake-div"})]})})});const y=({type:t,className:n,children:a,onClick:s})=>e("button",{type:t,className:`Button ${n}`,onClick:s,children:a}),ue=t=>n=>{const a={};return t.forEach(s=>{const r=n[s];a[s]=r}),a},S=ue,b=(t,n)=>a=>r=>{const{state:o,actions:d}=z(t),m=n?n(d):{};return e(a,v(h(h({},r),m),{state:o}))},pe=(t,n)=>{const{type:a,payload:s}=n;if(a==="setIdValue"){const{id:r,value:o}=s;return o!==t[r]?v(h({},t),{[r]:o}):t}if(a==="setCriterionValue"&&s.value!==t.acceptanceCriteria[s.id]){const r=[...t.acceptanceCriteria];return r[s.id]=s.value,v(h({},t),{acceptanceCriteria:r})}if(a==="changeTaskType"){const r=s.value;return v(h({},t),{taskType:r})}if(a==="addCriteriaList"){const{index:r}=s,o=[...t.acceptanceCriteria];return r!==""?(o.splice(r+1,0,""),v(h({},t),{acceptanceCriteria:o})):(o.push(""),v(h({},t),{acceptanceCriteria:o}))}if(a==="remCriteriaList"){const r=[...t.acceptanceCriteria],{index:o}=s,d=[...r.slice(0,o),...r.slice(o+1)];return v(h({},t),{acceptanceCriteria:d})}if(a==="useDraft"){const{index:r}=s;return JSON.parse(localStorage.getItem("formDraftState"))[r]}if(a==="setSuccessClass"){const{e:r}=s,o=r.target.closest(".Button");return o.classList.add("Button--success"),setTimeout(()=>{o.classList.remove("Button--success")},1500),t}throw new Error},N=G(),me={acceptanceCriteria:[""],taskType:"userStory"},_e=["setIdValue","setCriterionValue","changeTaskType","addCriteriaList","remCriteriaList","useDraft","setSuccessClass"],fe=(t,n)=>{const a={};return n.forEach(s=>{a[s]=r=>t({type:s,payload:r})}),a},he=({children:t})=>{const[n,a]=Q(pe,me),s=fe(a,_e);return e(N.Provider,{value:{state:n,actions:s},children:t})},ye=b(N,S(["useDraft","setSuccessClass"]))(({draftState:t,useDraft:n,setFormType:a,setIsOutputEmpty:s,setSuccessClass:r,setPopupModalTrigger:o})=>l("div",{className:"DraftList",children:[e("h2",{className:"DraftList__title",children:"Saved Drafts"}),t&&t.map((d,m)=>l("div",{className:`DraftList__container DraftList__container--${m}`,children:[l("div",{className:`DraftList__container__task-type ${d.taskType==="userStory"?"DraftList__container__task-type--story":"DraftList__container__task-type--bug"}`,children:[d.taskType==="userStory"&&"User Story",d.taskType==="bugReport"&&"Bug Report"]}),l("div",{className:"DraftList__container__title",children:[e("span",{className:"DraftList__container__summary",children:d.summary}),e(y,{className:"Button Button--delete DraftList__container__del-btn",onClick:()=>o(m),children:e(T,{})})]}),e("div",{className:"DraftList__container__description",children:d.description}),e("div",{className:"DraftList__container__actions",children:l(y,{className:"Button Button--inverted Button--anim DraftList__container__actions__use-btn",onClick:c=>{n({index:m}),a(d.taskType),s(!1),r({e:c})},children:[e(X,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Use Draft"})]})})]},m)),(t==null?void 0:t.length)<1&&e("span",{className:"DraftList__container--empty",children:"No drafts saved.."})]}));const ve=({children:t})=>{const n=I({to:{opacity:1},from:{opacity:0},config:x.molasses}),a=I({to:{x:0,z:0,rotateY:0},from:{x:720,z:90,rotateY:60},config:x.molasses});return e(q.div,{style:n,className:"PopupModal",children:e(q.div,{style:a,className:"PopupModal__container",children:t})})},Ne=a=>{var s=a,{trigger:t}=s,n=R(s,["trigger"]);return typeof t=="number"&&e(ve,h({},n))};const be=({setPopupModalTrigger:t,deleteDraft:n,draftIndex:a,draftList:s})=>{let r="";s[a].taskType==="userStory"?r="user story":r="bug report";const o=s[a].summary;return l("div",{className:"DeleteConfirm",children:[l("div",{className:"DeleteConfirm__content",children:[l("h3",{className:"DeleteConfirm__title",children:["Delete"," ",e("span",{className:"DeleteConfirm__title__task-type",children:r}),"?"]}),l("p",{className:"DeleteConfirm__text",children:["Deleting ",e("span",{className:"DeleteConfirm__summary",children:o})," ","will permanently remove it from your draft list."]})]}),l("div",{className:"DeleteConfirm__actions",children:[l(y,{className:"Button--anim Button--inverted DeleteConfirm__actions__cancel-btn",onClick:()=>t(null),children:[e(Z,{}),l("span",{children:["No, keep ",r]})]}),l(y,{className:"Button--anim Button--filled DeleteConfirm__actions__delete-btn",onClick:()=>{n(a),t(null)},children:[e(T,{}),l("span",{children:["Yes, delete ",r]})]})]})]})};const ge=()=>e("div",{className:"Footer",children:e("div",{className:"Footer__content",children:l("h5",{children:["If you encounter any problems, please "," ",e("a",{href:"https://adaptagency.slack.com/team/U02HC5NUFJR",target:"_blank",rel:"noreferrer",className:"Footer__content__link",children:"contact Tomas L. on Slack"}),"."]})})}),Se=({children:t,draftState:n,setDraftState:a,setFormType:s,setIsOutputEmpty:r})=>{const[o,d]=g("visible"),[m,c]=g(null),f=()=>{const u=document.querySelector(".DraftList");u.getAttribute("class")==="DraftList DraftList--hidden"?(u.classList.remove("DraftList--hidden"),d("visible")):(u.classList.add("DraftList--hidden"),d("hidden"))};return l("div",{className:"Layout",children:[e(Ne,{trigger:m,children:e(be,{setPopupModalTrigger:c,deleteDraft:u=>{const p=JSON.parse(localStorage.getItem("formDraftState")),_=[...p.slice(0,u),...p.slice(u+1)];localStorage.setItem("formDraftState",JSON.stringify(_)),a(_)},draftIndex:m,draftList:n})}),e(de,{}),l("div",{className:"Layout__wrapper",children:[e("div",{className:"Layout__content",children:t}),e(ye,{draftState:n,setDraftState:a,setFormType:s,setIsOutputEmpty:r,setPopupModalTrigger:c}),o==="hidden"&&l(y,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>f(),children:[e(ee,{}),"Open Drafts"]}),o==="visible"&&l(y,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>f(),children:[e(te,{}),"Close Drafts"]})]}),e(ge,{})]})};const k=({children:t,labelFor:n,label:a,className:s})=>l("div",{className:`FormField ${s||""}`,children:[e("label",{for:n,children:a}),t]});const L=({name:t,placeholder:n,required:a,onInput:s,value:r,className:o,onKeyDown:d,onFocus:m,onBlur:c})=>{A(()=>{f.current.focus()},[]);const f=H();return e(D,{children:e("input",v(h({ref:f,type:"text",name:t,id:t,className:`TextInput ${o}`,placeholder:n},a||null),{onInput:s,onFocus:m,onBlur:c,onKeyDown:d,value:r}))})};const O=({name:t,id:n,rows:a,cols:s,onInput:r,className:o,value:d,placeholder:m,onBlur:c})=>e(D,{children:e("textarea",{type:"text",name:t,id:n||t,className:`TextArea ${o}`,rows:a,cols:s,onInput:r,value:d,placeholder:m,onBlur:c})}),Ce=b(N,S(["addCriteriaList","remCriteriaList"]))(({FormData:t,handleChange:n,changeCriterion:a,remCriteriaList:s,state:r,addCriteriaList:o})=>{const[d,m]=g(0),c=window.screen.width,f=(i,u)=>{if(i.keyCode===13&&o({index:u}),i.keyCode===46||i.keyCode===8&&i.target.value===""){s({index:u});const p=document.querySelector(`#criterion-input-${i.keyCode===8?u-1:u+1}`);p&&p.focus(),i.keyCode===8&&(i.preventDefault(),i.stopPropagation())}};return e("form",{className:"UserStoryForm",children:t.map(i=>(i.id==="persona"||i.id==="goal"||i.id==="reason"||i.id==="description"||i.id==="acceptanceCriteria")&&l(k,{label:i.label,labelFor:i.id,className:i.className,children:[i.type==="textinput"&&e(L,{name:i.id,placeholder:i.placeholder,required:i.required,onInput:u=>{c>640&&n(u)},onBlur:u=>{c<640&&n(u)},value:r[i.id]}),i.type==="textarea"&&e(O,{name:i.id,placeholder:i.placeholder,required:i.required,onInput:u=>{c>640&&n(u)},onBlur:u=>{c<640&&n(u)},value:r[i.id]}),i.type==="acceptanceCriteria"&&l(D,{children:[e("ol",{className:"FormField__criteria-list",children:r.acceptanceCriteria.map((u,p)=>e("li",{children:l("div",{className:"criterion-fake-input",children:[e(L,{name:`criterion-input-${p}`,className:"form-input",onInput:_=>{c>640&&(m(_.target.selectionStart),a(_,p))},onBlur:_=>{c<640&&(m(_.target.selectionStart),a(_,p))},onFocus:_=>{_.target.selectionStart=d,_.target.selectionEnd=d},onKeyDown:_=>f(_,p),value:u,placeholder:i.placeholder}),e(y,{type:"button",className:"Button FormField__criteria-list__rem-btn",onClick:()=>s({index:p}),children:"\xD7"})]})},`${u.length?u:p}`))}),l(y,{type:"button",className:"FormField__criteria-list__add-btn",onClick:()=>{o({index:""})},children:[e(re,{className:"icon"}),e("span",{children:"Add Criterion"})]})]})]},i.id))})});const M=({id:t,name:n,value:a,onInput:s,checked:r})=>l("div",{className:"RadioInput",children:[e("input",{type:"radio",value:a,name:n,id:t,className:"RadioInput__selector",onInput:s,checked:r}),e("label",{for:t,className:"RadioInput__label",children:a})]});const Fe=({handleChange:t,FormData:n,state:a})=>{const s=window.screen.width;return e("form",{className:"BugReportForm",children:n.map(r=>(r.id==="description"||r.id==="browser"||r.id==="devices")&&l(k,{label:r.label,labelFor:r.id,className:r.className,children:[r.type==="textinput"&&e(L,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:o=>{s>640&&t(o)},onBlur:o=>{s<640&&t(o)},value:a[r.id]}),r.type==="textarea"&&e(O,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:o=>{s>640&&t(o)},onBlur:o=>{s<640&&t(o)},value:a[r.id]})]},r.id))})};var De=b(N)(Fe);const ke=b(N)(({handleChange:t,state:n})=>{const a=window.screen.width;return e(k,{label:"Summary",labelFor:"form-summary",className:"FormField__summary",children:e(O,{className:"TextArea__summary",id:"summary",onInput:s=>{a>640&&t(s)},onBlur:s=>{a<640&&t(s)},value:n.summary})})}),Le=b(N,S(["changeTaskType"]))(({formType:t,setFormType:n,changeTaskType:a})=>l(k,{label:"Choose Task type",labelFor:"form-type",className:"FormField__type-select",children:[e(M,{value:"User Story",name:"form-type",id:"type-user-story",onInput:()=>{n("userStory"),a({value:"userStory"})},checked:t==="userStory"}),e(M,{value:"Bug Report",name:"form-type",id:"type-bug-report",onInput:()=>{n("bugReport"),a({value:"bugReport"})},checked:t==="bugReport"})]})),Oe=b(N,S(["setIdValue","setCriterionValue","setSuccessClass"]))(({FormData:t,setIdValue:n,setCriterionValue:a,setIsOutputEmpty:s,formType:r,setFormType:o,setDraftState:d,setSuccessClass:m,state:c})=>{const f=(p,_)=>{const U=p.target;a({id:_,value:U.value}),p.preventDefault()},i=p=>{const _=p.target;n({id:_.id,value:_.value}),s(!1),p.preventDefault()},u=()=>{let p=[];const _=localStorage.getItem("formDraftState");_&&(p=[...JSON.parse(_)]),p.push(c),localStorage.setItem("formDraftState",JSON.stringify(p)),d(p)};return l("div",{className:"Form",children:[e("h2",{className:"Form__title",children:"Generation Form"}),e(Le,{formType:r,setFormType:o}),e(ke,{handleChange:i}),r==="userStory"&&e(Ce,{changeCriterion:f,handleChange:i,FormData:t}),r==="bugReport"&&e(De,{FormData:t,handleChange:i}),l(y,{className:"Button--filled Button--anim Form__save-btn",onClick:p=>{u(),m({e:p})},children:[e(ae,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Save Draft"})]})]})}),E=[{id:"persona",label:"As a",type:"textinput",placeholder:"type of user",className:"",required:!0},{id:"goal",label:"I want to",type:"textinput",placeholder:"some goal",className:"",required:!0},{id:"reason",label:"so that",type:"textinput",placeholder:"some reason",className:"",required:!0},{id:"description",label:"Description",type:"textarea",placeholder:"This text area is supported for Markdown",className:"FormField__description",required:!0},{id:"acceptanceCriteria",label:"Acceptance Criteria",type:"acceptanceCriteria",placeholder:"press Enter to add more lists",className:"FormField__criteria",required:!1},{id:"browser",label:"Browser",type:"textinput",placeholder:"Chrome 15.0, Firefox 13.2",className:"",required:!0},{id:"devices",label:"Devices",type:"textinput",placeholder:"Android 12, iOS 8",className:"",required:!1}];const Be=b(N,S(["setSuccessClass"]))(({state:t,copyOutput:n,setSuccessClass:a})=>l("div",{className:"SummaryOutputField",children:[e("label",{for:"SummaryOutputField__content",className:"SummaryOutputField__title",children:e("b",{children:"Summary"})}),e("div",{className:"SummaryOutputField__content",children:t.summary}),e("div",{className:"SummaryOutputField__content__actions",children:l(y,{className:"Button--filled Button--anim SummaryOutputField__content__actions__copy-btn",onClick:s=>{n(".SummaryOutputField__content"),a({e:s})},children:[e(P,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Copy Summary"})]})})]})),$e=b(N,S(["setSuccessClass"]))(({FormData:t,state:n,isOutputEmpty:a,formType:s,setSuccessClass:r})=>{const o=ne(),d=c=>{const f=document.querySelector(c).innerHTML;navigator.clipboard.writeText(new se({codeBlockStyle:"fenced",headingStyle:"atx",hr:"---"}).turndown(f))},m=H(()=>{});return A(()=>{const c=document.createElement("script");return c.innerHTML=oe,document.head.appendChild(c),m.current=markdown,()=>document.head.removeChild(c)},[]),l("div",{className:"Output",children:[e("h2",{className:"Output__title",children:s==="userStory"?"User Story":"Bug Report"}),l("div",{className:"Output__content",children:[a&&e("span",{className:"Output__content--empty",children:"Waiting for input..."}),!a&&l(D,{children:[e(Be,{copyOutput:d}),e("span",{className:"Output__content--body",ref:o,children:t.map(c=>{if(c.label==="Description")return l("div",{className:"Output__description",children:[e("span",{className:"Output__description--label",children:e("b",{children:c.label})}),e("div",{dangerouslySetInnerHTML:n[c.id]===void 0?{__html:"..."}:{__html:m.current(n[c.id])},className:"Output__description--content"})]});if(s==="bugReport"){if(c.label==="Browser")return l("div",{className:"Output__browser",children:[e("span",{className:"Output__browser--label",children:e("b",{children:c.label})}),e("div",{className:"Output__browser--content",children:n[c.id]})]});if(c.label==="Devices")return l("div",{className:"Output__devices",children:[e("span",{className:"Output__devices--label",children:e("b",{children:c.label})}),e("div",{className:"Output__devices--content",children:n[c.id]})]})}if(s==="userStory"){if(c.label==="Acceptance Criteria")return l("div",{className:"Output__acceptance-criteria",children:[e("span",{className:"Output__acceptance-criteria--label",children:e("b",{children:c.label})}),e("ol",{className:"Output__acceptance-criteria--content",children:n[c.id].map((f,i)=>e("li",{children:f},i))})]});if(c.label!=="Browser"&&c.label!=="Devices")return`${c.label} ${n[c.id]?n[c.id]:"..."} `}})}),e("div",{className:"Output__actions",children:l(y,{type:"button",className:"Button--filled Button--anim Output__actions__copy-btn",onClick:c=>{d(".Output__content--body"),r({e:c})},children:[e(P,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Copy Output"})]})})]})]})]})});function we(){const[t,n]=g(!0),[a,s]=g("userStory"),[r,o]=g(JSON.parse(localStorage.getItem("formDraftState")));return e(he,{children:l(Se,{draftState:r,setDraftState:o,setFormType:s,setIsOutputEmpty:n,children:[e(Oe,{setIsOutputEmpty:n,FormData:E,formType:a,setFormType:s,setDraftState:o}),e($e,{isOutputEmpty:t,FormData:E,formType:a})]})})}ce(e(we,{}),document.getElementById("app"));
