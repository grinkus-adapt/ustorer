var q=Object.defineProperty,A=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var k=(t,a,n)=>a in t?q(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,m=(t,a)=>{for(var n in a||(a={}))E.call(a,n)&&k(t,n,a[n]);if(O)for(var n of O(a))P.call(a,n)&&k(t,n,a[n]);return t},h=(t,a)=>A(t,H(a));import{j as M,a as U,F as V,T as j,D as J,p as K,R as G,b as W,c as S,l as g,d as z,e as Q,y as $,s as B,f as X,g as Y,h as I,_ as Z,i as ee,m as te,S as re}from"./vendor.fd995ed7.js";const ae=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};ae();const e=M,i=U,C=V,se=({className:t})=>e("div",{className:t}),ne=()=>e("div",{className:"Header",children:e("div",{className:"Header__wrapper",children:i("div",{className:"Header__content",children:[e("a",{href:"https://adaptagency.com/",target:"_blank",rel:"noreferrer",className:"Header__logo",children:e(se,{})}),e("span",{className:"Header__title",children:"Task Generator"}),e("div",{className:"Header__fake-div"})]})})});const f=({type:t,className:a,children:n,onClick:r})=>e("button",{type:t,className:`Button ${a}`,onClick:r,children:n}),ce=t=>a=>{const n={};return t.forEach(r=>{const s=a[r];n[r]=s}),n},b=ce,v=(t,a)=>n=>s=>{const{state:l,actions:d}=j(t),c=a?a(d):{};return e(n,h(m(m({},s),c),{state:l}))},oe=(t,a)=>{const{type:n,payload:r}=a;if(n==="setIdValue"){const{id:s,value:l}=r;return l!==t[s]?h(m({},t),{[s]:l}):t}if(n==="setCriterionValue"&&r.value!==t.acceptanceCriteria[r.id]){const s=[...t.acceptanceCriteria];return s[r.id]=r.value,h(m({},t),{acceptanceCriteria:s})}if(n==="changeTaskType"){const s=r.value;return h(m({},t),{taskType:s})}if(n==="addCriteriaList"){const{index:s}=r,l=[...t.acceptanceCriteria];return s!==""?(l.splice(s+1,0,""),h(m({},t),{acceptanceCriteria:l})):(l.push(""),h(m({},t),{acceptanceCriteria:l}))}if(n==="remCriteriaList"){const s=[...t.acceptanceCriteria],{index:l}=r,d=[...s.slice(0,l),...s.slice(l+1)];return h(m({},t),{acceptanceCriteria:d})}if(n==="useDraft"){const{index:s}=r;return JSON.parse(localStorage.getItem("formDraftState"))[s]}if(n==="setSuccessClass"){const{e:s}=r,l=s.target.closest(".Button");return l.classList.add("Button--success"),setTimeout(()=>{l.classList.remove("Button--success")},1500),t}throw new Error},y=J(),le={acceptanceCriteria:[""],taskType:"userStory"},ie=["setIdValue","setCriterionValue","changeTaskType","addCriteriaList","remCriteriaList","useDraft","setSuccessClass"],de=(t,a)=>{const n={};return a.forEach(r=>{n[r]=s=>t({type:r,payload:s})}),n},ue=({children:t})=>{const[a,n]=K(oe,le),r=de(n,ie);return e(y.Provider,{value:{state:a,actions:r},children:t})},pe=v(y,b(["useDraft","setSuccessClass"]))(({draftState:t,setDraftState:a,useDraft:n,setFormType:r,setIsOutputEmpty:s,setSuccessClass:l})=>{const d=c=>{const o=JSON.parse(localStorage.getItem("formDraftState")),u=[...o.slice(0,c),...o.slice(c+1)];localStorage.setItem("formDraftState",JSON.stringify(u)),a(u)};return i("div",{className:"DraftList",children:[e("h2",{className:"DraftList__title",children:"Saved Drafts"}),t&&t.map((c,o)=>i("div",{className:`DraftList__container DraftList__container--${o}`,children:[i("div",{className:`DraftList__container__task-type ${c.taskType==="userStory"?"DraftList__container__task-type--story":"DraftList__container__task-type--bug"}`,children:[c.taskType==="userStory"&&"User Story",c.taskType==="bugReport"&&"Bug Report"]}),i("div",{className:"DraftList__container__title",children:[e("span",{className:"DraftList__container__summary",children:c.summary}),e(f,{className:"Button Button--delete DraftList__container__del-btn",onClick:()=>d(o),children:e(G,{})})]}),e("div",{className:"DraftList__container__description",children:c.description}),e("div",{className:"DraftList__container__actions",children:i(f,{className:"Button Button--inverted Button--anim DraftList__container__actions__use-btn",onClick:u=>{n({index:o}),r(c.taskType),s(!1),l({e:u})},children:[e(W,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Use Draft"})]})})]},o)),(t==null?void 0:t.length)<1&&e("span",{className:"DraftList__container--empty",children:"No drafts saved.."})]})}),me=({children:t,draftState:a,setDraftState:n,setFormType:r,setIsOutputEmpty:s})=>{const[l,d]=g("visible"),c=()=>{const o=document.querySelector(".DraftList");o.getAttribute("class")==="DraftList DraftList--hidden"?(o.classList.remove("DraftList--hidden"),d("visible")):(o.classList.add("DraftList--hidden"),d("hidden"))};return i("div",{className:"Layout",children:[e(ne,{}),i("div",{className:"Layout__wrapper",children:[e("div",{className:"Layout__content",children:t}),e(pe,{draftState:a,setDraftState:n,setFormType:r,setIsOutputEmpty:s}),l==="hidden"&&i(f,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>c(),children:[e(z,{}),"Open Drafts"]}),l==="visible"&&i(f,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>c(),children:[e(Q,{}),"Close Drafts"]})]})]})};const F=({children:t,labelFor:a,label:n,className:r})=>i("div",{className:`FormField ${r||""}`,children:[e("label",{for:a,children:n}),t]});const D=({name:t,placeholder:a,required:n,onInput:r,value:s,className:l,onKeyDown:d})=>{$(()=>{c.current.focus()},[]);const c=B();return e(C,{children:e("input",h(m({ref:c,type:"text",name:t,id:t,className:`TextInput ${l}`,placeholder:a},n||null),{onInput:r,onKeyDown:d,value:s}))})};const L=({name:t,id:a,rows:n,cols:r,onInput:s,className:l,value:d,placeholder:c})=>e(C,{children:e("textarea",{type:"text",name:t,id:a||t,className:`TextArea ${l}`,rows:n,cols:r,onInput:s,value:d,placeholder:c})}),_e=v(y,b(["addCriteriaList","remCriteriaList"]))(({FormData:t,handleChange:a,changeCriterion:n,remCriteriaList:r,state:s,addCriteriaList:l})=>{const d=(c,o)=>{if(c.keyCode===13&&l({index:o}),c.keyCode===46||c.keyCode===8&&c.target.value===""){r({index:o});const u=document.querySelector(`#criterion-input-${c.keyCode===8?o-1:o}`);u&&u.focus(),c.keyCode===8&&(c.preventDefault(),c.stopPropagation())}};return e("form",{className:"UserStoryForm",children:t.map(c=>(c.id==="persona"||c.id==="goal"||c.id==="reason"||c.id==="description"||c.id==="acceptanceCriteria")&&i(F,{label:c.label,labelFor:c.id,className:c.className,children:[c.type==="textinput"&&e(D,{name:c.id,placeholder:c.placeholder,required:c.required,onInput:o=>a(o),value:s[c.id]}),c.type==="textarea"&&e(L,{name:c.id,placeholder:c.placeholder,required:c.required,onInput:o=>a(o),value:s[c.id]}),c.type==="acceptanceCriteria"&&i(C,{children:[e("ol",{className:"FormField__criteria-list",children:s.acceptanceCriteria.map((o,u)=>e("li",{children:i("div",{className:"criterion-fake-input",children:[e(D,{name:`criterion-input-${u}`,className:"form-input",onInput:_=>{n(_,u)},onKeyDown:_=>d(_,u),value:o,placeholder:c.placeholder}),e(f,{type:"button",className:"Button FormField__criteria-list__rem-btn",onClick:()=>r({index:u}),children:"\xD7"})]})},`${o.length?o:u}`))}),i(f,{type:"button",className:"FormField__criteria-list__add-btn",onClick:()=>{l({index:""})},children:[e(X,{className:"icon"}),e("span",{children:"Add Criterion"})]})]})]},c.id))})});const R=({id:t,name:a,value:n,onInput:r,checked:s})=>i("div",{className:"RadioInput",children:[e("input",{type:"radio",value:n,name:a,id:t,className:"RadioInput__selector",onInput:r,checked:s}),e("label",{for:t,className:"RadioInput__label",children:n})]});const he=({handleChange:t,FormData:a,state:n})=>e("form",{className:"BugReportForm",children:a.map(r=>(r.id==="description"||r.id==="browser"||r.id==="devices")&&i(F,{label:r.label,labelFor:r.id,className:r.className,children:[r.type==="textinput"&&e(D,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:s=>t(s),value:n[r.id]}),r.type==="textarea"&&e(L,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:s=>t(s),value:n[r.id]})]},r.id))});var fe=v(y)(he);const ye=v(y)(({handleChange:t,state:a})=>e(F,{label:"Summary",labelFor:"form-summary",className:"FormField__summary",children:e(L,{className:"TextArea__summary",id:"summary",onInput:t,value:a.summary})})),ve=v(y,b(["changeTaskType"]))(({formType:t,setFormType:a,changeTaskType:n})=>i(F,{label:"Choose Task type",labelFor:"form-type",className:"FormField__type-select",children:[e(R,{value:"User Story",name:"form-type",id:"type-user-story",onInput:()=>{a("userStory"),n({value:"userStory"})},checked:t==="userStory"}),e(R,{value:"Bug Report",name:"form-type",id:"type-bug-report",onInput:()=>{a("bugReport"),n({value:"bugReport"})},checked:t==="bugReport"})]})),Ne=v(y,b(["setIdValue","setCriterionValue","setSuccessClass"]))(({FormData:t,setIdValue:a,setCriterionValue:n,setIsOutputEmpty:r,formType:s,setFormType:l,setDraftState:d,setSuccessClass:c,state:o})=>{const u=(p,N)=>{const x=p.target;n({id:N,value:x.value}),p.preventDefault()},_=p=>{const N=p.target;a({id:N.id,value:N.value}),r(!1),p.preventDefault()},w=()=>{let p=[];const N=localStorage.getItem("formDraftState");N&&(p=[...JSON.parse(N)]),p.push(o),localStorage.setItem("formDraftState",JSON.stringify(p)),d(p)};return i("div",{className:"Form",children:[e("h2",{className:"Form__title",children:"Generation Form"}),e(ve,{formType:s,setFormType:l}),e(ye,{handleChange:_}),s==="userStory"&&e(_e,{changeCriterion:u,handleChange:_,FormData:t}),s==="bugReport"&&e(fe,{FormData:t,handleChange:_}),i(f,{className:"Button--filled Button--anim Form__save-btn",onClick:p=>{w(),c({e:p})},children:[e(Y,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Save Draft"})]})]})}),T=[{id:"persona",label:"As a",type:"textinput",placeholder:"type of user",className:"",required:!0},{id:"goal",label:"I want to",type:"textinput",placeholder:"some goal",className:"",required:!0},{id:"reason",label:"so that",type:"textinput",placeholder:"some reason",className:"",required:!0},{id:"description",label:"Description",type:"textarea",placeholder:"This text area is supported for Markdown",className:"FormField__description",required:!0},{id:"acceptanceCriteria",label:"Acceptance Criteria",type:"acceptanceCriteria",placeholder:"press Enter to add more lists",className:"FormField__criteria",required:!1},{id:"browser",label:"Browser",type:"textinput",placeholder:"Chrome 15.0, Firefox 13.2",className:"",required:!0},{id:"devices",label:"Devices",type:"textinput",placeholder:"Android 12, iOS 8",className:"",required:!1}];const be=v(y,b(["setSuccessClass"]))(({state:t,copyOutput:a,setSuccessClass:n})=>i("div",{className:"SummaryOutputField",children:[e("label",{for:"SummaryOutputField__content",className:"SummaryOutputField__title",children:e("b",{children:"Summary"})}),e("div",{className:"SummaryOutputField__content",children:t.summary}),e("div",{className:"SummaryOutputField__content__actions",children:i(f,{className:"Button--filled Button--anim SummaryOutputField__content__actions__copy-btn",onClick:r=>{a(".SummaryOutputField__content"),n({e:r})},children:[e(I,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Copy Summary"})]})})]})),Se=v(y,b(["setSuccessClass"]))(({FormData:t,state:a,isOutputEmpty:n,formType:r,setSuccessClass:s})=>{const l=Z(),d=o=>{const u=document.querySelector(o).innerHTML;navigator.clipboard.writeText(new ee({codeBlockStyle:"fenced",headingStyle:"atx",hr:"---"}).turndown(u))},c=B(()=>{});return $(()=>{const o=document.createElement("script");return o.innerHTML=te,document.head.appendChild(o),c.current=markdown,()=>document.head.removeChild(o)},[]),i("div",{className:"Output",children:[e("h2",{className:"Output__title",children:r==="userStory"?"User Story":"Bug Report"}),i("div",{className:"Output__content",children:[n&&e("span",{className:"Output__content--empty",children:"Waiting for input..."}),!n&&i(C,{children:[e(be,{copyOutput:d}),e("span",{className:"Output__content--body",ref:l,children:t.map(o=>{if(o.label==="Description")return i("div",{className:"Output__description",children:[e("span",{className:"Output__description--label",children:e("b",{children:o.label})}),e("div",{dangerouslySetInnerHTML:a[o.id]===void 0?{__html:"..."}:{__html:c.current(a[o.id])},className:"Output__description--content"})]});if(r==="bugReport"){if(o.label==="Browser")return i("div",{className:"Output__browser",children:[e("span",{className:"Output__browser--label",children:e("b",{children:o.label})}),e("div",{className:"Output__browser--content",children:a[o.id]})]});if(o.label==="Devices")return i("div",{className:"Output__devices",children:[e("span",{className:"Output__devices--label",children:e("b",{children:o.label})}),e("div",{className:"Output__devices--content",children:a[o.id]})]})}if(r==="userStory"){if(o.label==="Acceptance Criteria")return i("div",{className:"Output__acceptance-criteria",children:[e("span",{className:"Output__acceptance-criteria--label",children:e("b",{children:o.label})}),e("ol",{className:"Output__acceptance-criteria--content",children:a[o.id].map((u,_)=>e("li",{children:u},_))})]});if(o.label!=="Browser"&&o.label!=="Devices")return`${o.label} ${a[o.id]?a[o.id]:"..."} `}})}),e("div",{className:"Output__actions",children:i(f,{type:"button",className:"Button--filled Button--anim Output__actions__copy-btn",onClick:o=>{d(".Output__content--body"),s({e:o})},children:[e(I,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Copy Output"})]})})]})]})]})});function ge(){const[t,a]=g(!0),[n,r]=g("userStory"),[s,l]=g(JSON.parse(localStorage.getItem("formDraftState")));return e(ue,{children:i(me,{draftState:s,setDraftState:l,setFormType:r,setIsOutputEmpty:a,children:[e(Ne,{setIsOutputEmpty:a,FormData:T,formType:n,setFormType:r,setDraftState:l}),e(Se,{isOutputEmpty:t,FormData:T,formType:n})]})})}re(e(ge,{}),document.getElementById("app"));
