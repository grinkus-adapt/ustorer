var J=Object.defineProperty,V=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var R=(t,a,n)=>a in t?J(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,h=(t,a)=>{for(var n in a||(a={}))$.call(a,n)&&R(t,n,a[n]);if(S)for(var n of S(a))B.call(a,n)&&R(t,n,a[n]);return t},v=(t,a)=>V(t,j(a));var T=(t,a)=>{var n={};for(var r in t)$.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&S)for(var r of S(t))a.indexOf(r)<0&&B.call(t,r)&&(n[r]=t[r]);return n};import{j as K,a as Y,F as z,T as G,D as W,p as Q,R as I,b as X,c as F,u as w,d as x,e as q,f as Z,l as g,g as ee,h as te,y as A,s as H,i as re,k as ae,m as P,_ as ne,n as se,o as oe,S as ce}from"./vendor.449095f1.js";const le=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};le();const e=K,c=Y,D=z,ie=({className:t})=>e("div",{className:t}),de=()=>e("div",{className:"Header",children:e("div",{className:"Header__wrapper",children:c("div",{className:"Header__content",children:[e("a",{href:"https://adaptagency.com/",target:"_blank",rel:"noreferrer",className:"Header__logo",children:e(ie,{})}),e("span",{className:"Header__title",children:"Task Generator"}),e("div",{className:"Header__fake-div"})]})})});const f=({type:t,className:a,children:n,onClick:r})=>e("button",{type:t,className:`Button ${a}`,onClick:r,children:n}),ue=t=>a=>{const n={};return t.forEach(r=>{const s=a[r];n[r]=s}),n},C=ue,b=(t,a)=>n=>s=>{const{state:o,actions:d}=G(t),p=a?a(d):{};return e(n,v(h(h({},s),p),{state:o}))},pe=(t,a)=>{const{type:n,payload:r}=a;if(n==="setIdValue"){const{id:s,value:o}=r;return o!==t[s]?v(h({},t),{[s]:o}):t}if(n==="setCriterionValue"&&r.value!==t.acceptanceCriteria[r.id]){const s=[...t.acceptanceCriteria];return s[r.id]=r.value,v(h({},t),{acceptanceCriteria:s})}if(n==="changeTaskType"){const s=r.value;return v(h({},t),{taskType:s})}if(n==="addCriteriaList"){const{index:s}=r,o=[...t.acceptanceCriteria];return s!==""?(o.splice(s+1,0,""),v(h({},t),{acceptanceCriteria:o})):(o.push(""),v(h({},t),{acceptanceCriteria:o}))}if(n==="remCriteriaList"){const s=[...t.acceptanceCriteria],{index:o}=r,d=[...s.slice(0,o),...s.slice(o+1)];return v(h({},t),{acceptanceCriteria:d})}if(n==="useDraft"){const{index:s}=r;return JSON.parse(localStorage.getItem("formDraftState"))[s]}if(n==="setSuccessClass"){const{e:s}=r,o=s.target.closest(".Button");return o.classList.add("Button--success"),setTimeout(()=>{o.classList.remove("Button--success")},1500),t}throw new Error},N=W(),me={acceptanceCriteria:[""],taskType:"userStory"},_e=["setIdValue","setCriterionValue","changeTaskType","addCriteriaList","remCriteriaList","useDraft","setSuccessClass"],he=(t,a)=>{const n={};return a.forEach(r=>{n[r]=s=>t({type:r,payload:s})}),n},fe=({children:t})=>{const[a,n]=Q(pe,me),r=he(n,_e);return e(N.Provider,{value:{state:a,actions:r},children:t})},ye=b(N,C(["useDraft","setSuccessClass"]))(({draftState:t,useDraft:a,setFormType:n,setIsOutputEmpty:r,setSuccessClass:s,setPopupModalTrigger:o})=>c("div",{className:"DraftList",children:[e("h2",{className:"DraftList__title",children:"Saved Drafts"}),t&&t.map((d,p)=>c("div",{className:`DraftList__container DraftList__container--${p}`,children:[c("div",{className:`DraftList__container__task-type ${d.taskType==="userStory"?"DraftList__container__task-type--story":"DraftList__container__task-type--bug"}`,children:[d.taskType==="userStory"&&"User Story",d.taskType==="bugReport"&&"Bug Report"]}),c("div",{className:"DraftList__container__title",children:[e("span",{className:"DraftList__container__summary",children:d.summary}),e(f,{className:"Button Button--delete DraftList__container__del-btn",onClick:()=>o(p),children:e(I,{})})]}),e("div",{className:"DraftList__container__description",children:d.description}),e("div",{className:"DraftList__container__actions",children:c(f,{className:"Button Button--inverted Button--anim DraftList__container__actions__use-btn",onClick:i=>{a({index:p}),n(d.taskType),r(!1),s({e:i})},children:[e(X,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Use Draft"})]})})]},p)),(t==null?void 0:t.length)<1&&e("span",{className:"DraftList__container--empty",children:"No drafts saved.."})]}));const ve=({children:t})=>{const a=w({to:{opacity:1},from:{opacity:0},config:x.molasses}),n=w({to:{x:0,z:0,rotateY:0},from:{x:720,z:90,rotateY:60},config:x.molasses});return e(q.div,{style:a,className:"PopupModal",children:e(q.div,{style:n,className:"PopupModal__container",children:t})})},Ne=n=>{var r=n,{trigger:t}=r,a=T(r,["trigger"]);return typeof t=="number"&&e(ve,h({},a))};const be=({setPopupModalTrigger:t,deleteDraft:a,draftIndex:n,draftList:r})=>{let s="";r[n].taskType==="userStory"?s="user story":s="bug report";const o=r[n].summary;return c("div",{className:"DeleteConfirm",children:[c("div",{className:"DeleteConfirm__content",children:[c("h3",{className:"DeleteConfirm__title",children:["Delete"," ",e("span",{className:"DeleteConfirm__title__task-type",children:s}),"?"]}),c("p",{className:"DeleteConfirm__text",children:["Deleting ",e("span",{className:"DeleteConfirm__summary",children:o})," ","will permanently remove it from your draft list."]})]}),c("div",{className:"DeleteConfirm__actions",children:[c(f,{className:"Button--anim Button--inverted DeleteConfirm__actions__cancel-btn",onClick:()=>t(null),children:[e(Z,{}),c("span",{children:["No, keep ",s]})]}),c(f,{className:"Button--anim Button--filled DeleteConfirm__actions__delete-btn",onClick:()=>{a(n),t(null)},children:[e(I,{}),c("span",{children:["Yes, delete ",s]})]})]})]})};const ge=()=>e("div",{className:"Footer",children:e("div",{className:"Footer__content",children:c("h5",{children:["If you encounter any problems, please "," ",e("a",{href:"https://adaptagency.slack.com/team/U02HC5NUFJR",target:"_blank",rel:"noreferrer",className:"Footer__content__link",children:"contact Tomas L. on Slack"}),"."]})})}),Ce=({children:t,draftState:a,setDraftState:n,setFormType:r,setIsOutputEmpty:s})=>{const[o,d]=g("visible"),[p,i]=g(null),l=()=>{const _=document.querySelector(".DraftList");_.getAttribute("class")==="DraftList DraftList--hidden"?(_.classList.remove("DraftList--hidden"),d("visible")):(_.classList.add("DraftList--hidden"),d("hidden"))};return c("div",{className:"Layout",children:[e(Ne,{trigger:p,children:e(be,{setPopupModalTrigger:i,deleteDraft:_=>{const u=JSON.parse(localStorage.getItem("formDraftState")),y=[...u.slice(0,_),...u.slice(_+1)];localStorage.setItem("formDraftState",JSON.stringify(y)),n(y)},draftIndex:p,draftList:a})}),e(de,{}),c("div",{className:"Layout__wrapper",children:[e("div",{className:"Layout__content",children:t}),e(ye,{draftState:a,setDraftState:n,setFormType:r,setIsOutputEmpty:s,setPopupModalTrigger:i}),o==="hidden"&&c(f,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>l(),children:[e(ee,{}),"Open Drafts"]}),o==="visible"&&c(f,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>l(),children:[e(te,{}),"Close Drafts"]})]}),e(ge,{})]})};const k=({children:t,labelFor:a,label:n,className:r})=>c("div",{className:`FormField ${r||""}`,children:[e("label",{for:a,children:n}),t]});const L=({name:t,placeholder:a,required:n,onInput:r,value:s,className:o,onKeyDown:d,onFocus:p})=>{A(()=>{i.current.focus()},[]);const i=H();return e(D,{children:e("input",v(h({ref:i,type:"text",name:t,id:t,className:`TextInput ${o}`,placeholder:a},n||null),{onInput:r,onFocus:p,onKeyDown:d,value:s}))})};const O=({name:t,id:a,rows:n,cols:r,onInput:s,className:o,value:d,placeholder:p})=>e(D,{children:e("textarea",{type:"text",name:t,id:a||t,className:`TextArea ${o}`,rows:n,cols:r,onInput:s,value:d,placeholder:p})}),Se=b(N,C(["addCriteriaList","remCriteriaList"]))(({FormData:t,handleChange:a,changeCriterion:n,remCriteriaList:r,state:s,addCriteriaList:o})=>{const[d,p]=g(0),i=(l,m)=>{if(l.keyCode===13&&o({index:m}),l.keyCode===46||l.keyCode===8&&l.target.value===""){r({index:m});const _=document.querySelector(`#criterion-input-${l.keyCode===8?m-1:m+1}`);_&&_.focus(),l.keyCode===8&&(l.preventDefault(),l.stopPropagation())}};return e("form",{className:"UserStoryForm",children:t.map(l=>(l.id==="persona"||l.id==="goal"||l.id==="reason"||l.id==="description"||l.id==="acceptanceCriteria")&&c(k,{label:l.label,labelFor:l.id,className:l.className,children:[l.type==="textinput"&&e(L,{name:l.id,placeholder:l.placeholder,required:l.required,onInput:m=>a(m),value:s[l.id]}),l.type==="textarea"&&e(O,{name:l.id,placeholder:l.placeholder,required:l.required,onInput:m=>a(m),value:s[l.id]}),l.type==="acceptanceCriteria"&&c(D,{children:[e("ol",{className:"FormField__criteria-list",children:s.acceptanceCriteria.map((m,_)=>e("li",{children:c("div",{className:"criterion-fake-input",children:[e(L,{name:`criterion-input-${_}`,className:"form-input",onInput:u=>{p(u.target.selectionStart),n(u,_)},onFocus:u=>{u.target.selectionStart=d,u.target.selectionEnd=d},onKeyDown:u=>i(u,_),value:m,placeholder:l.placeholder}),e(f,{type:"button",className:"Button FormField__criteria-list__rem-btn",onClick:()=>r({index:_}),children:"\xD7"})]})},`${m.length?m:_}`))}),c(f,{type:"button",className:"FormField__criteria-list__add-btn",onClick:()=>{o({index:""})},children:[e(re,{className:"icon"}),e("span",{children:"Add Criterion"})]})]})]},l.id))})});const M=({id:t,name:a,value:n,onInput:r,checked:s})=>c("div",{className:"RadioInput",children:[e("input",{type:"radio",value:n,name:a,id:t,className:"RadioInput__selector",onInput:r,checked:s}),e("label",{for:t,className:"RadioInput__label",children:n})]});const Fe=({handleChange:t,FormData:a,state:n})=>e("form",{className:"BugReportForm",children:a.map(r=>(r.id==="description"||r.id==="browser"||r.id==="devices")&&c(k,{label:r.label,labelFor:r.id,className:r.className,children:[r.type==="textinput"&&e(L,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:s=>t(s),value:n[r.id]}),r.type==="textarea"&&e(O,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:s=>t(s),value:n[r.id]})]},r.id))});var De=b(N)(Fe);const ke=b(N)(({handleChange:t,state:a})=>e(k,{label:"Summary",labelFor:"form-summary",className:"FormField__summary",children:e(O,{className:"TextArea__summary",id:"summary",onInput:t,value:a.summary})})),Le=b(N,C(["changeTaskType"]))(({formType:t,setFormType:a,changeTaskType:n})=>c(k,{label:"Choose Task type",labelFor:"form-type",className:"FormField__type-select",children:[e(M,{value:"User Story",name:"form-type",id:"type-user-story",onInput:()=>{a("userStory"),n({value:"userStory"})},checked:t==="userStory"}),e(M,{value:"Bug Report",name:"form-type",id:"type-bug-report",onInput:()=>{a("bugReport"),n({value:"bugReport"})},checked:t==="bugReport"})]})),Oe=b(N,C(["setIdValue","setCriterionValue","setSuccessClass"]))(({FormData:t,setIdValue:a,setCriterionValue:n,setIsOutputEmpty:r,formType:s,setFormType:o,setDraftState:d,setSuccessClass:p,state:i})=>{const l=(u,y)=>{const U=u.target;n({id:y,value:U.value}),u.preventDefault()},m=u=>{const y=u.target;a({id:y.id,value:y.value}),r(!1),u.preventDefault()},_=()=>{let u=[];const y=localStorage.getItem("formDraftState");y&&(u=[...JSON.parse(y)]),u.push(i),localStorage.setItem("formDraftState",JSON.stringify(u)),d(u)};return c("div",{className:"Form",children:[e("h2",{className:"Form__title",children:"Generation Form"}),e(Le,{formType:s,setFormType:o}),e(ke,{handleChange:m}),s==="userStory"&&e(Se,{changeCriterion:l,handleChange:m,FormData:t}),s==="bugReport"&&e(De,{FormData:t,handleChange:m}),c(f,{className:"Button--filled Button--anim Form__save-btn",onClick:u=>{_(),p({e:u})},children:[e(ae,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Save Draft"})]})]})}),E=[{id:"persona",label:"As a",type:"textinput",placeholder:"type of user",className:"",required:!0},{id:"goal",label:"I want to",type:"textinput",placeholder:"some goal",className:"",required:!0},{id:"reason",label:"so that",type:"textinput",placeholder:"some reason",className:"",required:!0},{id:"description",label:"Description",type:"textarea",placeholder:"This text area is supported for Markdown",className:"FormField__description",required:!0},{id:"acceptanceCriteria",label:"Acceptance Criteria",type:"acceptanceCriteria",placeholder:"press Enter to add more lists",className:"FormField__criteria",required:!1},{id:"browser",label:"Browser",type:"textinput",placeholder:"Chrome 15.0, Firefox 13.2",className:"",required:!0},{id:"devices",label:"Devices",type:"textinput",placeholder:"Android 12, iOS 8",className:"",required:!1}];const $e=b(N,C(["setSuccessClass"]))(({state:t,copyOutput:a,setSuccessClass:n})=>c("div",{className:"SummaryOutputField",children:[e("label",{for:"SummaryOutputField__content",className:"SummaryOutputField__title",children:e("b",{children:"Summary"})}),e("div",{className:"SummaryOutputField__content",children:t.summary}),e("div",{className:"SummaryOutputField__content__actions",children:c(f,{className:"Button--filled Button--anim SummaryOutputField__content__actions__copy-btn",onClick:r=>{a(".SummaryOutputField__content"),n({e:r})},children:[e(P,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Copy Summary"})]})})]})),Be=b(N,C(["setSuccessClass"]))(({FormData:t,state:a,isOutputEmpty:n,formType:r,setSuccessClass:s})=>{const o=ne(),d=i=>{const l=document.querySelector(i).innerHTML;navigator.clipboard.writeText(new se({codeBlockStyle:"fenced",headingStyle:"atx",hr:"---"}).turndown(l))},p=H(()=>{});return A(()=>{const i=document.createElement("script");return i.innerHTML=oe,document.head.appendChild(i),p.current=markdown,()=>document.head.removeChild(i)},[]),c("div",{className:"Output",children:[e("h2",{className:"Output__title",children:r==="userStory"?"User Story":"Bug Report"}),c("div",{className:"Output__content",children:[n&&e("span",{className:"Output__content--empty",children:"Waiting for input..."}),!n&&c(D,{children:[e($e,{copyOutput:d}),e("span",{className:"Output__content--body",ref:o,children:t.map(i=>{if(i.label==="Description")return c("div",{className:"Output__description",children:[e("span",{className:"Output__description--label",children:e("b",{children:i.label})}),e("div",{dangerouslySetInnerHTML:a[i.id]===void 0?{__html:"..."}:{__html:p.current(a[i.id])},className:"Output__description--content"})]});if(r==="bugReport"){if(i.label==="Browser")return c("div",{className:"Output__browser",children:[e("span",{className:"Output__browser--label",children:e("b",{children:i.label})}),e("div",{className:"Output__browser--content",children:a[i.id]})]});if(i.label==="Devices")return c("div",{className:"Output__devices",children:[e("span",{className:"Output__devices--label",children:e("b",{children:i.label})}),e("div",{className:"Output__devices--content",children:a[i.id]})]})}if(r==="userStory"){if(i.label==="Acceptance Criteria")return c("div",{className:"Output__acceptance-criteria",children:[e("span",{className:"Output__acceptance-criteria--label",children:e("b",{children:i.label})}),e("ol",{className:"Output__acceptance-criteria--content",children:a[i.id].map((l,m)=>e("li",{children:l},m))})]});if(i.label!=="Browser"&&i.label!=="Devices")return`${i.label} ${a[i.id]?a[i.id]:"..."} `}})}),e("div",{className:"Output__actions",children:c(f,{type:"button",className:"Button--filled Button--anim Output__actions__copy-btn",onClick:i=>{d(".Output__content--body"),s({e:i})},children:[e(P,{className:"icon"}),e(F,{className:"icon-check"}),e("span",{children:"Copy Output"})]})})]})]})]})});function Re(){const[t,a]=g(!0),[n,r]=g("userStory"),[s,o]=g(JSON.parse(localStorage.getItem("formDraftState")));return e(fe,{children:c(Ce,{draftState:s,setDraftState:o,setFormType:r,setIsOutputEmpty:a,children:[e(Oe,{setIsOutputEmpty:a,FormData:E,formType:n,setFormType:r,setDraftState:o}),e(Be,{isOutputEmpty:t,FormData:E,formType:n})]})})}ce(e(Re,{}),document.getElementById("app"));
