var q=Object.defineProperty,A=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var $=(t,s,c)=>s in t?q(t,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[s]=c,_=(t,s)=>{for(var c in s||(s={}))E.call(s,c)&&$(t,c,s[c]);if(k)for(var c of k(s))P.call(s,c)&&$(t,c,s[c]);return t},h=(t,s)=>A(t,H(s));import{j as M,a as U,F as V,T as j,D as J,p as K,R as G,b as W,c as g,l as C,d as z,e as Q,y as B,s as I,f as X,g as Y,h as R,_ as Z,i as ee,m as te,S as re}from"./vendor.fd995ed7.js";const ae=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}};ae();const e=M,l=U,F=V,se=({className:t})=>e("div",{className:t}),ne=()=>e("div",{className:"Header",children:e("div",{className:"Header__wrapper",children:l("div",{className:"Header__content",children:[e("a",{href:"https://adaptagency.com/",target:"_blank",rel:"noreferrer",className:"Header__logo",children:e(se,{})}),e("span",{className:"Header__title",children:"Task Generator"}),e("div",{className:"Header__fake-div"})]})})});const f=({type:t,className:s,children:c,onClick:a})=>e("button",{type:t,className:`Button ${s}`,onClick:a,children:c}),ce=t=>s=>{const c={};return t.forEach(a=>{const n=s[a];c[a]=n}),c},b=ce,v=(t,s)=>c=>n=>{const{state:o,actions:d}=j(t),i=s?s(d):{};return e(c,h(_(_({},n),i),{state:o}))},oe=(t,s)=>{const{type:c,payload:a}=s;if(c==="setIdValue"){const{id:n,value:o}=a;return o!==t[n]?h(_({},t),{[n]:o}):t}if(c==="setCriterionValue"&&a.value!==t.acceptanceCriteria[a.id]){const n=[...t.acceptanceCriteria];return n[a.id]=a.value,h(_({},t),{acceptanceCriteria:n})}if(c==="changeTaskType"){const n=a.value;return h(_({},t),{taskType:n})}if(c==="addCriteriaList"){const{index:n}=a,o=[...t.acceptanceCriteria];return n!==""?(o.splice(n+1,0,""),h(_({},t),{acceptanceCriteria:o})):(o.push(""),h(_({},t),{acceptanceCriteria:o}))}if(c==="remCriteriaList"){const n=[...t.acceptanceCriteria],{index:o}=a,d=[...n.slice(0,o),...n.slice(o+1)];return h(_({},t),{acceptanceCriteria:d})}if(c==="useDraft"){const{index:n}=a;return JSON.parse(localStorage.getItem("formDraftState"))[n]}if(c==="setSuccessClass"){const{e:n}=a,o=n.target.closest(".Button");return o.classList.add("Button--success"),setTimeout(()=>{o.classList.remove("Button--success")},1500),t}throw new Error},y=J(),le={acceptanceCriteria:[""],taskType:"userStory"},ie=["setIdValue","setCriterionValue","changeTaskType","addCriteriaList","remCriteriaList","useDraft","setSuccessClass"],de=(t,s)=>{const c={};return s.forEach(a=>{c[a]=n=>t({type:a,payload:n})}),c},ue=({children:t})=>{const[s,c]=K(oe,le),a=de(c,ie);return e(y.Provider,{value:{state:s,actions:a},children:t})},pe=v(y,b(["useDraft","setSuccessClass"]))(({draftState:t,setDraftState:s,useDraft:c,setFormType:a,setIsOutputEmpty:n,setSuccessClass:o})=>{const d=i=>{const r=JSON.parse(localStorage.getItem("formDraftState")),u=[...r.slice(0,i),...r.slice(i+1)];localStorage.setItem("formDraftState",JSON.stringify(u)),s(u)};return l("div",{className:"DraftList",children:[e("h2",{className:"DraftList__title",children:"Saved Drafts"}),t&&t.map((i,r)=>l("div",{className:`DraftList__container DraftList__container--${r}`,children:[l("div",{className:`DraftList__container__task-type ${i.taskType==="userStory"?"DraftList__container__task-type--story":"DraftList__container__task-type--bug"}`,children:[i.taskType==="userStory"&&"User Story",i.taskType==="bugReport"&&"Bug Report"]}),l("div",{className:"DraftList__container__title",children:[e("span",{className:"DraftList__container__summary",children:i.summary}),e(f,{className:"Button Button--delete DraftList__container__del-btn",onClick:()=>d(r),children:e(G,{})})]}),e("div",{className:"DraftList__container__description",children:i.description}),e("div",{className:"DraftList__container__actions",children:l(f,{className:"Button Button--inverted Button--anim DraftList__container__actions__use-btn",onClick:u=>{c({index:r}),a(i.taskType),n(!1),o({e:u})},children:[e(W,{className:"icon"}),e(g,{className:"icon-check"}),e("span",{children:"Use Draft"})]})})]},r)),(t==null?void 0:t.length)<1&&e("span",{className:"DraftList__container--empty",children:"No drafts saved.."})]})}),me=({children:t,draftState:s,setDraftState:c,setFormType:a,setIsOutputEmpty:n})=>{const[o,d]=C("visible"),i=()=>{const r=document.querySelector(".DraftList");r.getAttribute("class")==="DraftList DraftList--hidden"?(r.classList.remove("DraftList--hidden"),d("visible")):(r.classList.add("DraftList--hidden"),d("hidden"))};return l("div",{className:"Layout",children:[e(ne,{}),l("div",{className:"Layout__wrapper",children:[e("div",{className:"Layout__content",children:t}),e(pe,{draftState:s,setDraftState:c,setFormType:a,setIsOutputEmpty:n}),o==="hidden"&&l(f,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>i(),children:[e(z,{}),"Open Drafts"]}),o==="visible"&&l(f,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>i(),children:[e(Q,{}),"Close Drafts"]})]})]})};const D=({children:t,labelFor:s,label:c,className:a})=>l("div",{className:`FormField ${a||""}`,children:[e("label",{for:s,children:c}),t]});const L=({name:t,placeholder:s,required:c,onInput:a,value:n,className:o,onKeyDown:d})=>{B(()=>{i.current.focus()},[]);const i=I();return e(F,{children:e("input",h(_({ref:i,type:"text",name:t,id:t,className:`TextInput ${o}`,placeholder:s},c||null),{onInput:a,onKeyDown:d,value:n}))})};const O=({name:t,id:s,rows:c,cols:a,onInput:n,className:o,value:d,placeholder:i})=>e(F,{children:e("textarea",{type:"text",name:t,id:s||t,className:`TextArea ${o}`,rows:c,cols:a,onInput:n,value:d,placeholder:i})}),_e=v(y,b(["addCriteriaList","remCriteriaList"]))(({FormData:t,handleChange:s,changeCriterion:c,remCriteriaList:a,state:n,addCriteriaList:o})=>{const d=(r,u)=>{if(r.keyCode===13&&o({index:u}),r.keyCode===46||r.keyCode===8&&r.target.value===""){a({index:u});const p=document.querySelector(`#criterion-input-${r.keyCode===8?u-1:u}`);p&&p.focus(),r.keyCode===8&&(r.preventDefault(),r.stopPropagation())}};let i=0;return e("form",{className:"UserStoryForm",children:t.map(r=>(r.id==="persona"||r.id==="goal"||r.id==="reason"||r.id==="description"||r.id==="acceptanceCriteria")&&l(D,{label:r.label,labelFor:r.id,className:r.className,children:[r.type==="textinput"&&e(L,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:u=>s(u),value:n[r.id]}),r.type==="textarea"&&e(O,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:u=>s(u),value:n[r.id]}),r.type==="acceptanceCriteria"&&l(F,{children:[e("ol",{className:"FormField__criteria-list",children:n.acceptanceCriteria.map((u,p)=>(i+=1,e("li",{children:l("div",{className:"criterion-fake-input",children:[e(L,{name:`criterion-input-${p}`,className:"form-input",onInput:S=>{c(S,p)},onKeyDown:S=>d(S,p),value:u,placeholder:r.placeholder}),e(f,{type:"button",className:"FormField__criteria-list__rem-btn",onClick:()=>a({index:p}),children:"\xD7"})]})},i)))}),l(f,{type:"button",className:"FormField__criteria-list__add-btn",onClick:()=>{o({index:""})},children:[e(X,{className:"icon"}),e("span",{children:"Add Criterion"})]})]})]},r.id))})});const T=({id:t,name:s,value:c,onInput:a,checked:n})=>l("div",{className:"RadioInput",children:[e("input",{type:"radio",value:c,name:s,id:t,className:"RadioInput__selector",onInput:a,checked:n}),e("label",{for:t,className:"RadioInput__label",children:c})]});const he=({handleChange:t,FormData:s,state:c})=>e("form",{className:"BugReportForm",children:s.map(a=>(a.id==="description"||a.id==="browser"||a.id==="devices")&&l(D,{label:a.label,labelFor:a.id,className:a.className,children:[a.type==="textinput"&&e(L,{name:a.id,placeholder:a.placeholder,required:a.required,onInput:n=>t(n),value:c[a.id]}),a.type==="textarea"&&e(O,{name:a.id,placeholder:a.placeholder,required:a.required,onInput:n=>t(n),value:c[a.id]})]},a.id))});var fe=v(y)(he);const ye=v(y)(({handleChange:t,state:s})=>e(D,{label:"Summary",labelFor:"form-summary",className:"FormField__summary",children:e(O,{className:"TextArea__summary",id:"summary",onInput:t,value:s.summary})})),ve=v(y,b(["changeTaskType"]))(({formType:t,setFormType:s,changeTaskType:c})=>l(D,{label:"Choose Task type",labelFor:"form-type",className:"FormField__type-select",children:[e(T,{value:"User Story",name:"form-type",id:"type-user-story",onInput:()=>{s("userStory"),c({value:"userStory"})},checked:t==="userStory"}),e(T,{value:"Bug Report",name:"form-type",id:"type-bug-report",onInput:()=>{s("bugReport"),c({value:"bugReport"})},checked:t==="bugReport"})]})),Ne=v(y,b(["setIdValue","setCriterionValue","setSuccessClass"]))(({FormData:t,setIdValue:s,setCriterionValue:c,setIsOutputEmpty:a,formType:n,setFormType:o,setDraftState:d,setSuccessClass:i,state:r})=>{const u=(m,N)=>{const x=m.target;c({id:N,value:x.value}),m.preventDefault()},p=m=>{const N=m.target;s({id:N.id,value:N.value}),a(!1),m.preventDefault()},S=()=>{let m=[];const N=localStorage.getItem("formDraftState");N&&(m=[...JSON.parse(N)]),m.push(r),localStorage.setItem("formDraftState",JSON.stringify(m)),d(m)};return l("div",{className:"Form",children:[e("h2",{className:"Form__title",children:"Generation Form"}),e(ve,{formType:n,setFormType:o}),e(ye,{handleChange:p}),n==="userStory"&&e(_e,{changeCriterion:u,handleChange:p,FormData:t}),n==="bugReport"&&e(fe,{FormData:t,handleChange:p}),l(f,{className:"Button--filled Button--anim Form__save-btn",onClick:m=>{S(),i({e:m})},children:[e(Y,{className:"icon"}),e(g,{className:"icon-check"}),e("span",{children:"Save Draft"})]})]})}),w=[{id:"persona",label:"As a",type:"textinput",placeholder:"type of user",className:"",required:!0},{id:"goal",label:"I want to",type:"textinput",placeholder:"some goal",className:"",required:!0},{id:"reason",label:"so that",type:"textinput",placeholder:"some reason",className:"",required:!0},{id:"description",label:"Description",type:"textarea",placeholder:"This text area is supported for Markdown",className:"FormField__description",required:!0},{id:"acceptanceCriteria",label:"Acceptance Criteria",type:"acceptanceCriteria",placeholder:"press Enter to add more lists",className:"FormField__criteria",required:!1},{id:"browser",label:"Browser",type:"textinput",placeholder:"Chrome 15.0, Firefox 13.2",className:"",required:!0},{id:"devices",label:"Devices",type:"textinput",placeholder:"Android 12, iOS 8",className:"",required:!1}];const be=v(y,b(["setSuccessClass"]))(({state:t,copyOutput:s,setSuccessClass:c})=>l("div",{className:"SummaryOutputField",children:[e("label",{for:"SummaryOutputField__content",className:"SummaryOutputField__title",children:e("b",{children:"Summary"})}),e("div",{className:"SummaryOutputField__content",children:t.summary}),e("div",{className:"SummaryOutputField__content__actions",children:l(f,{className:"Button--filled Button--anim SummaryOutputField__content__actions__copy-btn",onClick:a=>{s(".SummaryOutputField__content"),c({e:a})},children:[e(R,{className:"icon"}),e(g,{className:"icon-check"}),e("span",{children:"Copy Summary"})]})})]})),Se=v(y,b(["setSuccessClass"]))(({FormData:t,state:s,isOutputEmpty:c,formType:a,setSuccessClass:n})=>{const o=Z(),d=r=>{const u=document.querySelector(r).innerHTML;navigator.clipboard.writeText(new ee({codeBlockStyle:"fenced",headingStyle:"atx",hr:"---"}).turndown(u))},i=I(()=>{});return B(()=>{const r=document.createElement("script");return r.innerHTML=te,document.head.appendChild(r),i.current=markdown,()=>document.head.removeChild(r)},[]),l("div",{className:"Output",children:[e("h2",{className:"Output__title",children:a==="userStory"?"User Story":"Bug Report"}),l("div",{className:"Output__content",children:[c&&e("span",{className:"Output__content--empty",children:"Waiting for input..."}),!c&&l(F,{children:[e(be,{copyOutput:d}),e("span",{className:"Output__content--body",ref:o,children:t.map(r=>{if(r.label==="Description")return l("div",{className:"Output__description",children:[e("span",{className:"Output__description--label",children:e("b",{children:r.label})}),e("div",{dangerouslySetInnerHTML:s[r.id]===void 0?{__html:"..."}:{__html:i.current(s[r.id])},className:"Output__description--content"})]});if(a==="bugReport"){if(r.label==="Browser")return l("div",{className:"Output__browser",children:[e("span",{className:"Output__browser--label",children:e("b",{children:r.label})}),e("div",{className:"Output__browser--content",children:s[r.id]})]});if(r.label==="Devices")return l("div",{className:"Output__devices",children:[e("span",{className:"Output__devices--label",children:e("b",{children:r.label})}),e("div",{className:"Output__devices--content",children:s[r.id]})]})}if(a==="userStory"){if(r.label==="Acceptance Criteria")return l("div",{className:"Output__acceptance-criteria",children:[e("span",{className:"Output__acceptance-criteria--label",children:e("b",{children:r.label})}),e("ol",{className:"Output__acceptance-criteria--content",children:s[r.id].map((u,p)=>e("li",{children:u},p))})]});if(r.label!=="Browser"&&r.label!=="Devices")return`${r.label} ${s[r.id]?s[r.id]:"..."} `}})}),e("div",{className:"Output__actions",children:l(f,{type:"button",className:"Button--filled Button--anim Output__actions__copy-btn",onClick:r=>{d(".Output__content--body"),n({e:r})},children:[e(R,{className:"icon"}),e(g,{className:"icon-check"}),e("span",{children:"Copy Output"})]})})]})]})]})});function ge(){const[t,s]=C(!0),[c,a]=C("userStory"),[n,o]=C(JSON.parse(localStorage.getItem("formDraftState")));return e(ue,{children:l(me,{draftState:n,setDraftState:o,setFormType:a,setIsOutputEmpty:s,children:[e(Ne,{setIsOutputEmpty:s,FormData:w,formType:c,setFormType:a,setDraftState:o}),e(Se,{isOutputEmpty:t,FormData:w,formType:c})]})})}re(e(ge,{}),document.getElementById("app"));
