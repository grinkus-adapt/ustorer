var T=Object.defineProperty,w=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(t,a,c)=>a in t?T(t,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[a]=c,m=(t,a)=>{for(var c in a||(a={}))A.call(a,c)&&B(t,c,a[c]);if(O)for(var c of O(a))H.call(a,c)&&B(t,c,a[c]);return t},f=(t,a)=>w(t,q(a));import{j as P,a as U,F as V,T as j,D as E,p as J,R as M,b as G,c as S,l as g,d as K,e as W,f as z,g as Q,h as $,_ as X,i as Y,S as Z}from"./vendor.e36441d4.js";const ee=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function c(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=c(s);fetch(s.href,o)}};ee();const e=P,i=U,C=V,te=({className:t})=>e("div",{className:t});const _=({type:t,className:a,children:c,onClick:r})=>e("button",{type:t,className:a,onClick:r,children:c}),re=()=>e("div",{className:"Header",children:e("div",{className:"Header__wrapper",children:i("div",{className:"Header__content",children:[e("a",{href:"https://adaptagency.com/",target:"_blank",rel:"noreferrer",className:"Header__logo",children:e(te,{})}),e("span",{className:"Header__title",children:"Task Generator"}),e("div",{className:"Header__fake-div"})]})})});const ae=t=>a=>{const c={};return t.forEach(r=>{const s=a[r];c[r]=s}),c},N=ae,y=(t,a)=>c=>s=>{const{state:o,actions:d}=j(t),n=a?a(d):{};return e(c,f(m(m({},s),n),{state:o}))},se=(t,a)=>{const{type:c,payload:r}=a;if(c==="setIdValue"){const{id:s,value:o}=r;return o!==t[s]?f(m({},t),{[s]:o}):t}if(c==="setCriterionValue"&&r.value!==t.acceptanceCriteria[r.id]){const s=[...t.acceptanceCriteria];return s[r.id]=r.value,f(m({},t),{acceptanceCriteria:s})}if(c==="changeTaskType"){const s=r.value;return f(m({},t),{taskType:s})}if(c==="addCriteriaList"){const s=[...t.acceptanceCriteria];return s.push(""),f(m({},t),{acceptanceCriteria:s})}if(c==="remCriteriaList"){const s=[...t.acceptanceCriteria],{index:o}=r,d=[...s.slice(0,o),...s.slice(o+1)];return f(m({},t),{acceptanceCriteria:d})}if(c==="useDraft"){const{index:s}=r;return JSON.parse(localStorage.getItem("formDraftState"))[s]}if(c==="setSuccessClass"){const{e:s}=r,o=s.target.closest(".Button");return o.classList.add("Button--success"),setTimeout(()=>{o.classList.remove("Button--success")},1500),t}throw new Error},h=E(),ce={acceptanceCriteria:[""],taskType:"userStory"},ne=["setIdValue","setCriterionValue","changeTaskType","addCriteriaList","remCriteriaList","useDraft","setSuccessClass"],oe=(t,a)=>{const c={};return a.forEach(r=>{c[r]=s=>t({type:r,payload:s})}),c},ie=({children:t})=>{const[a,c]=J(se,ce),r=oe(c,ne);return e(h.Provider,{value:{state:a,actions:r},children:t})},le=y(h,N(["useDraft","setSuccessClass"]))(({draftState:t,setDraftState:a,useDraft:c,setFormType:r,setIsOutputEmpty:s,setSuccessClass:o})=>{const d=n=>{const l=JSON.parse(localStorage.getItem("formDraftState")),u=[...l.slice(0,n),...l.slice(n+1)];localStorage.setItem("formDraftState",JSON.stringify(u)),a(u)};return i("div",{className:"DraftList",children:[e("h2",{className:"DraftList__title",children:"Saved Drafts"}),t&&t.map((n,l)=>i("div",{className:`DraftList__container DraftList__container--${l}`,children:[i("div",{className:`DraftList__container__task-type ${n.taskType==="userStory"?"DraftList__container__task-type--story":"DraftList__container__task-type--bug"}`,children:[n.taskType==="userStory"&&"User Story",n.taskType==="bugReport"&&"Bug Report"]}),i("div",{className:"DraftList__container__title",children:[e("span",{className:"DraftList__container__summary",children:n.summary}),e(_,{className:"Button Button--delete DraftList__container__del-btn",onClick:()=>d(l),children:e(M,{})})]}),e("div",{className:"DraftList__container__description",children:n.description}),e("div",{className:"DraftList__container__actions",children:i(_,{className:"Button Button--inverted Button--anim DraftList__container__actions__use-btn",onClick:u=>{c({index:l}),r(n.taskType),s(!1),o({e:u})},children:[e(G,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Use Draft"})]})})]},l)),(t==null?void 0:t.length)<1&&e("span",{className:"DraftList__container--empty",children:"No drafts saved.."})]})}),de=({children:t,draftState:a,setDraftState:c,setFormType:r,setIsOutputEmpty:s})=>{const[o,d]=g("visible"),n=()=>{const l=document.querySelector(".DraftList");l.getAttribute("class")==="DraftList DraftList--hidden"?(l.classList.remove("DraftList--hidden"),d("visible")):(l.classList.add("DraftList--hidden"),d("hidden"))};return i("div",{className:"Layout",children:[e(re,{}),i("div",{className:"Layout__wrapper",children:[e("div",{className:"Layout__content",children:t}),e(le,{draftState:a,setDraftState:c,setFormType:r,setIsOutputEmpty:s}),o==="hidden"&&i(_,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>n(),children:[e(K,{}),"Open Drafts"]}),o==="visible"&&i(_,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>n(),children:[e(W,{}),"Close Drafts"]})]})]})};const F=({children:t,labelFor:a,label:c,className:r})=>i("div",{className:`FormField ${r||""}`,children:[e("label",{for:a,children:c}),t]});const L=({name:t,placeholder:a,required:c,onInput:r,value:s,className:o})=>e(C,{children:e("input",f(m({type:"text",name:t,id:t,className:`TextInput ${o}`,placeholder:a},c||null),{onInput:r,value:s}))});const D=({name:t,id:a,rows:c,cols:r,onInput:s,className:o,value:d})=>e(C,{children:e("textarea",{type:"text",name:t,id:a||t,className:`TextArea ${o}`,rows:c,cols:r,onInput:s,value:d})});const ue=y(h,N(["addCriteriaList","remCriteriaList","setSuccessClass"]))(({FormData:t,handleChange:a,changeCriterion:c,remCriteriaList:r,state:s,addCriteriaList:o,setSuccessClass:d})=>e("form",{className:"UserStoryForm",children:t.map(n=>(n.id==="persona"||n.id==="goal"||n.id==="reason"||n.id==="description"||n.id==="acceptanceCriteria")&&i(F,{label:n.label,labelFor:n.id,className:n.className,children:[n.type==="textinput"&&e(L,{name:n.id,placeholder:n.placeholder,required:n.required,onInput:l=>a(l),value:s[n.id]}),n.type==="textarea"&&e(D,{name:n.id,placeholder:n.placeholder,required:n.required,onInput:l=>a(l),value:s[n.id]}),n.type==="acceptanceCriteria"&&i(C,{children:[e("ol",{className:"FormField__criteria-list",children:s.acceptanceCriteria.map((l,u)=>e("li",{children:i("div",{className:"criterion-fake-input",children:[e(L,{name:`criterion-input-${u}`,className:"form-input",onInput:b=>c(b,u),value:l}),e(_,{type:"button",className:"Button FormField__criteria-list__rem-btn",onClick:()=>r({index:u}),children:"\xD7"})]})},u))}),i(_,{type:"button",className:"Button Button--inverted Button--anim FormField__criteria-list__add-btn",onClick:l=>{o(),d({e:l})},children:[e(z,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Add Criterion"})]})]})]},n.id))}));const k=({id:t,name:a,value:c,onInput:r,checked:s})=>i("div",{className:"RadioInput",children:[e("input",{type:"radio",value:c,name:a,id:t,className:"RadioInput__selector",onInput:r,checked:s}),e("label",{for:t,className:"RadioInput__label",children:c})]});const pe=({handleChange:t,FormData:a,state:c})=>e("form",{className:"BugReportForm",children:a.map(r=>(r.id==="description"||r.id==="browser"||r.id==="devices")&&i(F,{label:r.label,labelFor:r.id,className:r.className,children:[r.type==="textinput"&&e(L,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:s=>t(s),value:c[r.id]}),r.type==="textarea"&&e(D,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:s=>t(s),value:c[r.id]})]},r.id))});var me=y(h)(pe);const _e=y(h)(({handleChange:t,state:a})=>e(F,{label:"Summary",labelFor:"form-summary",className:"FormField__summary",children:e(D,{className:"TextArea__summary",id:"summary",onInput:t,value:a.summary})})),he=y(h,N(["changeTaskType"]))(({formType:t,setFormType:a,changeTaskType:c})=>i(F,{label:"Choose Task type",labelFor:"form-type",className:"FormField__type-select",children:[e(k,{value:"User Story",name:"form-type",id:"type-user-story",onInput:()=>{a("userStory"),c({value:"userStory"})},checked:t==="userStory"}),e(k,{value:"Bug Report",name:"form-type",id:"type-bug-report",onInput:()=>{a("bugReport"),c({value:"bugReport"})},checked:t==="bugReport"})]})),fe=y(h,N(["setIdValue","setCriterionValue","setSuccessClass"]))(({FormData:t,setIdValue:a,setCriterionValue:c,setIsOutputEmpty:r,formType:s,setFormType:o,setDraftState:d,setSuccessClass:n,state:l})=>{const u=(p,v)=>{const x=p.target;c({id:v,value:x.value}),p.preventDefault()},b=p=>{const v=p.target;a({id:v.id,value:v.value}),r(!1),p.preventDefault()},R=()=>{let p=[];const v=localStorage.getItem("formDraftState");v&&(p=[...JSON.parse(v)]),p.push(l),localStorage.setItem("formDraftState",JSON.stringify(p)),d(p)};return i("div",{className:"Form",children:[e("h2",{className:"Form__title",children:"Generation Form"}),e(he,{formType:s,setFormType:o}),e(_e,{handleChange:b}),s==="userStory"&&e(ue,{changeCriterion:u,handleChange:b,FormData:t}),s==="bugReport"&&e(me,{FormData:t,handleChange:b}),i(_,{className:"Button Button--filled Button--anim Form__save-btn",onClick:p=>{R(),n({e:p})},children:[e(Q,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Save Draft"})]})]})}),I=[{id:"persona",label:"As a",type:"textinput",placeholder:"type of user",className:"",required:!0},{id:"goal",label:"I want to",type:"textinput",placeholder:"some goal",className:"",required:!0},{id:"reason",label:"so that",type:"textinput",placeholder:"some reason",className:"",required:!0},{id:"description",label:"Description",type:"textarea",placeholder:"",className:"FormField__description",required:!0},{id:"acceptanceCriteria",label:"Acceptance Criteria",type:"acceptanceCriteria",placeholder:"",className:"FormField__criteria",required:!1},{id:"browser",label:"Browser",type:"textinput",placeholder:"Chrome 15.0, Firefox 13.2",className:"",required:!0},{id:"devices",label:"Devices",type:"textinput",placeholder:"Android 12, iOS 8",className:"",required:!1}];const ye=y(h,N(["setSuccessClass"]))(({state:t,copyOutput:a,setSuccessClass:c})=>i("div",{className:"SummaryOutputField",children:[e("label",{for:"SummaryOutputField__content",className:"SummaryOutputField__title",children:e("b",{children:"Summary"})}),e("div",{className:"SummaryOutputField__content",children:t.summary}),e("div",{className:"SummaryOutputField__content__actions",children:i(_,{className:"Button Button--filled Button--anim SummaryOutputField__content__actions__copy-btn",onClick:r=>{a(".SummaryOutputField__content"),c({e:r})},children:[e($,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Copy Summary"})]})})]})),ve=y(h,N(["setSuccessClass"]))(({FormData:t,state:a,isOutputEmpty:c,formType:r,setSuccessClass:s})=>{const o=X(),d=n=>{const l=document.querySelector(n).innerHTML;navigator.clipboard.writeText(new Y({codeBlockStyle:"fenced",headingStyle:"atx",hr:"---"}).turndown(l))};return i("div",{className:"Output",children:[e("h2",{className:"Output__title",children:r==="userStory"?"User Story":"Bug Report"}),i("div",{className:"Output__content",children:[c&&e("span",{className:"Output__content--empty",children:"Waiting for input..."}),!c&&i(C,{children:[e(ye,{copyOutput:d}),e("span",{className:"Output__content--body",ref:o,children:t.map(n=>{if(n.label==="Description")return i("div",{className:"Output__description",children:[e("span",{className:"Output__description--label",children:e("b",{children:n.label})}),e("div",{className:"Output__description--content",children:a[n.id]})]});if(r==="bugReport"){if(n.label==="Browser")return i("div",{className:"Output__browser",children:[e("span",{className:"Output__browser--label",children:e("b",{children:n.label})}),e("div",{className:"Output__browser--content",children:a[n.id]})]});if(n.label==="Devices")return i("div",{className:"Output__devices",children:[e("span",{className:"Output__devices--label",children:e("b",{children:n.label})}),e("div",{className:"Output__devices--content",children:a[n.id]})]})}if(r==="userStory"){if(n.label==="Acceptance Criteria")return i("div",{className:"Output__acceptance-criteria",children:[e("span",{className:"Output__acceptance-criteria--label",children:e("b",{children:n.label})}),e("ol",{className:"Output__acceptance-criteria--content",children:a[n.id].map((l,u)=>e("li",{children:l},u))})]});if(n.label!=="Browser"&&n.label!=="Devices")return`${n.label} ${a[n.id]?a[n.id]:"..."} `}})}),e("div",{className:"Output__actions",children:i(_,{type:"button",className:"Button Button--filled Button--anim Output__actions__copy-btn",onClick:n=>{d(".Output__content--body"),s({e:n})},children:[e($,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Copy Output"})]})})]})]})]})});function Ne(){const[t,a]=g(!0),[c,r]=g("userStory"),[s,o]=g(JSON.parse(localStorage.getItem("formDraftState")));return e(ie,{children:i(de,{draftState:s,setDraftState:o,setFormType:r,setIsOutputEmpty:a,children:[e(fe,{setIsOutputEmpty:a,FormData:I,formType:c,setFormType:r,setDraftState:o}),e(ve,{isOutputEmpty:t,FormData:I,formType:c})]})})}Z(e(Ne,{}),document.getElementById("app"));
