var A=Object.defineProperty,H=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var $=(t,a,s)=>a in t?A(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,f=(t,a)=>{for(var s in a||(a={}))P.call(a,s)&&$(t,s,a[s]);if(O)for(var s of O(a))E.call(a,s)&&$(t,s,a[s]);return t},y=(t,a)=>H(t,M(a));import{j as U,a as V,F as j,T as J,D as K,p as G,R as B,b as W,c as S,d as Y,l as g,e as z,f as Q,y as R,s as T,g as X,h as Z,i as I,_ as ee,k as te,m as re,S as ae}from"./vendor.b0897a7c.js";const ne=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};ne();const e=U,i=V,D=j,se=({className:t})=>e("div",{className:t}),ce=()=>e("div",{className:"Header",children:e("div",{className:"Header__wrapper",children:i("div",{className:"Header__content",children:[e("a",{href:"https://adaptagency.com/",target:"_blank",rel:"noreferrer",className:"Header__logo",children:e(se,{})}),e("span",{className:"Header__title",children:"Task Generator"}),e("div",{className:"Header__fake-div"})]})})});const m=({type:t,className:a,children:s,onClick:r})=>e("button",{type:t,className:`Button ${a}`,onClick:r,children:s}),oe=t=>a=>{const s={};return t.forEach(r=>{const n=a[r];s[r]=n}),s},C=oe,b=(t,a)=>s=>n=>{const{state:o,actions:d}=J(t),c=a?a(d):{};return e(s,y(f(f({},n),c),{state:o}))},le=(t,a)=>{const{type:s,payload:r}=a;if(s==="setIdValue"){const{id:n,value:o}=r;return o!==t[n]?y(f({},t),{[n]:o}):t}if(s==="setCriterionValue"&&r.value!==t.acceptanceCriteria[r.id]){const n=[...t.acceptanceCriteria];return n[r.id]=r.value,y(f({},t),{acceptanceCriteria:n})}if(s==="changeTaskType"){const n=r.value;return y(f({},t),{taskType:n})}if(s==="addCriteriaList"){const{index:n}=r,o=[...t.acceptanceCriteria];return n!==""?(o.splice(n+1,0,""),y(f({},t),{acceptanceCriteria:o})):(o.push(""),y(f({},t),{acceptanceCriteria:o}))}if(s==="remCriteriaList"){const n=[...t.acceptanceCriteria],{index:o}=r,d=[...n.slice(0,o),...n.slice(o+1)];return y(f({},t),{acceptanceCriteria:d})}if(s==="useDraft"){const{index:n}=r;return JSON.parse(localStorage.getItem("formDraftState"))[n]}if(s==="setSuccessClass"){const{e:n}=r,o=n.target.closest(".Button");return o.classList.add("Button--success"),setTimeout(()=>{o.classList.remove("Button--success")},1500),t}throw new Error},v=K(),ie={acceptanceCriteria:[""],taskType:"userStory"},de=["setIdValue","setCriterionValue","changeTaskType","addCriteriaList","remCriteriaList","useDraft","setSuccessClass"],ue=(t,a)=>{const s={};return a.forEach(r=>{s[r]=n=>t({type:r,payload:n})}),s},pe=({children:t})=>{const[a,s]=G(le,ie),r=ue(s,de);return e(v.Provider,{value:{state:a,actions:r},children:t})},me=b(v,C(["useDraft","setSuccessClass"]))(({draftState:t,useDraft:a,setFormType:s,setIsOutputEmpty:r,setSuccessClass:n,setPopupModalTrigger:o})=>i("div",{className:"DraftList",children:[e("h2",{className:"DraftList__title",children:"Saved Drafts"}),t&&t.map((d,c)=>i("div",{className:`DraftList__container DraftList__container--${c}`,children:[i("div",{className:`DraftList__container__task-type ${d.taskType==="userStory"?"DraftList__container__task-type--story":"DraftList__container__task-type--bug"}`,children:[d.taskType==="userStory"&&"User Story",d.taskType==="bugReport"&&"Bug Report"]}),i("div",{className:"DraftList__container__title",children:[e("span",{className:"DraftList__container__summary",children:d.summary}),e(m,{className:"Button Button--delete DraftList__container__del-btn",onClick:()=>o(c),children:e(B,{})})]}),e("div",{className:"DraftList__container__description",children:d.description}),e("div",{className:"DraftList__container__actions",children:i(m,{className:"Button Button--inverted Button--anim DraftList__container__actions__use-btn",onClick:l=>{a({index:c}),s(d.taskType),r(!1),n({e:l})},children:[e(W,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Use Draft"})]})})]},c)),(t==null?void 0:t.length)<1&&e("span",{className:"DraftList__container--empty",children:"No drafts saved.."})]}));const _e=({children:t,trigger:a})=>typeof a=="number"&&e("div",{className:"PopupModal",children:e("div",{className:"PopupModal__container",children:t})});const he=({setPopupModalTrigger:t,deleteDraft:a,draftIndex:s,draftList:r})=>{let n="";r[s].taskType==="userStory"?n="user story":n="bug report";const o=r[s].summary;return i("div",{className:"DeleteConfirm",children:[i("div",{className:"DeleteConfirm__content",children:[i("h3",{className:"DeleteConfirm__title",children:["Delete"," ",e("span",{className:"DeleteConfirm__title__task-type",children:n}),"?"]}),i("p",{className:"DeleteConfirm__text",children:["Deleting ",e("span",{className:"DeleteConfirm__summary",children:o})," ","will permanently remove it from your draft list."]})]}),i("div",{className:"DeleteConfirm__actions",children:[i(m,{className:"Button--anim Button--inverted DeleteConfirm__actions__cancel-btn",onClick:()=>t(null),children:[e(Y,{}),i("span",{children:["No, keep ",n]})]}),i(m,{className:"Button--anim Button--filled DeleteConfirm__actions__delete-btn",onClick:()=>{a(s),t(null)},children:[e(B,{}),i("span",{children:["Yes, delete ",n]})]})]})]})},fe=({children:t,draftState:a,setDraftState:s,setFormType:r,setIsOutputEmpty:n})=>{const[o,d]=g("visible"),[c,l]=g(null),u=()=>{const N=document.querySelector(".DraftList");N.getAttribute("class")==="DraftList DraftList--hidden"?(N.classList.remove("DraftList--hidden"),d("visible")):(N.classList.add("DraftList--hidden"),d("hidden"))};return i("div",{className:"Layout",children:[e(_e,{trigger:c,children:e(he,{setPopupModalTrigger:l,deleteDraft:N=>{const p=JSON.parse(localStorage.getItem("formDraftState")),h=[...p.slice(0,N),...p.slice(N+1)];localStorage.setItem("formDraftState",JSON.stringify(h)),s(h)},draftIndex:c,draftList:a})}),e(ce,{}),i("div",{className:"Layout__wrapper",children:[e("div",{className:"Layout__content",children:t}),e(me,{draftState:a,setDraftState:s,setFormType:r,setIsOutputEmpty:n,setPopupModalTrigger:l}),o==="hidden"&&i(m,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>u(),children:[e(z,{}),"Open Drafts"]}),o==="visible"&&i(m,{className:"Button Button--icon Layout__sidebar-toggle",onClick:()=>u(),children:[e(Q,{}),"Close Drafts"]})]})]})};const F=({children:t,labelFor:a,label:s,className:r})=>i("div",{className:`FormField ${r||""}`,children:[e("label",{for:a,children:s}),t]});const L=({name:t,placeholder:a,required:s,onInput:r,value:n,className:o,onKeyDown:d})=>{R(()=>{c.current.focus()},[]);const c=T();return e(D,{children:e("input",y(f({ref:c,type:"text",name:t,id:t,className:`TextInput ${o}`,placeholder:a},s||null),{onInput:r,onKeyDown:d,value:n}))})};const k=({name:t,id:a,rows:s,cols:r,onInput:n,className:o,value:d,placeholder:c})=>e(D,{children:e("textarea",{type:"text",name:t,id:a||t,className:`TextArea ${o}`,rows:s,cols:r,onInput:n,value:d,placeholder:c})}),ye=b(v,C(["addCriteriaList","remCriteriaList"]))(({FormData:t,handleChange:a,changeCriterion:s,remCriteriaList:r,state:n,addCriteriaList:o})=>{const d=(c,l)=>{if(c.keyCode===13&&o({index:l}),c.keyCode===46||c.keyCode===8&&c.target.value===""){r({index:l});const u=document.querySelector(`#criterion-input-${c.keyCode===8?l-1:l}`);u&&u.focus(),c.keyCode===8&&(c.preventDefault(),c.stopPropagation())}};return e("form",{className:"UserStoryForm",children:t.map(c=>(c.id==="persona"||c.id==="goal"||c.id==="reason"||c.id==="description"||c.id==="acceptanceCriteria")&&i(F,{label:c.label,labelFor:c.id,className:c.className,children:[c.type==="textinput"&&e(L,{name:c.id,placeholder:c.placeholder,required:c.required,onInput:l=>a(l),value:n[c.id]}),c.type==="textarea"&&e(k,{name:c.id,placeholder:c.placeholder,required:c.required,onInput:l=>a(l),value:n[c.id]}),c.type==="acceptanceCriteria"&&i(D,{children:[e("ol",{className:"FormField__criteria-list",children:n.acceptanceCriteria.map((l,u)=>e("li",{children:i("div",{className:"criterion-fake-input",children:[e(L,{name:`criterion-input-${u}`,className:"form-input",onInput:_=>{s(_,u)},onKeyDown:_=>d(_,u),value:l,placeholder:c.placeholder}),e(m,{type:"button",className:"Button FormField__criteria-list__rem-btn",onClick:()=>r({index:u}),children:"\xD7"})]})},`${l.length?l:u}`))}),i(m,{type:"button",className:"FormField__criteria-list__add-btn",onClick:()=>{o({index:""})},children:[e(X,{className:"icon"}),e("span",{children:"Add Criterion"})]})]})]},c.id))})});const w=({id:t,name:a,value:s,onInput:r,checked:n})=>i("div",{className:"RadioInput",children:[e("input",{type:"radio",value:s,name:a,id:t,className:"RadioInput__selector",onInput:r,checked:n}),e("label",{for:t,className:"RadioInput__label",children:s})]});const ve=({handleChange:t,FormData:a,state:s})=>e("form",{className:"BugReportForm",children:a.map(r=>(r.id==="description"||r.id==="browser"||r.id==="devices")&&i(F,{label:r.label,labelFor:r.id,className:r.className,children:[r.type==="textinput"&&e(L,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:n=>t(n),value:s[r.id]}),r.type==="textarea"&&e(k,{name:r.id,placeholder:r.placeholder,required:r.required,onInput:n=>t(n),value:s[r.id]})]},r.id))});var Ne=b(v)(ve);const be=b(v)(({handleChange:t,state:a})=>e(F,{label:"Summary",labelFor:"form-summary",className:"FormField__summary",children:e(k,{className:"TextArea__summary",id:"summary",onInput:t,value:a.summary})})),Ce=b(v,C(["changeTaskType"]))(({formType:t,setFormType:a,changeTaskType:s})=>i(F,{label:"Choose Task type",labelFor:"form-type",className:"FormField__type-select",children:[e(w,{value:"User Story",name:"form-type",id:"type-user-story",onInput:()=>{a("userStory"),s({value:"userStory"})},checked:t==="userStory"}),e(w,{value:"Bug Report",name:"form-type",id:"type-bug-report",onInput:()=>{a("bugReport"),s({value:"bugReport"})},checked:t==="bugReport"})]})),ge=b(v,C(["setIdValue","setCriterionValue","setSuccessClass"]))(({FormData:t,setIdValue:a,setCriterionValue:s,setIsOutputEmpty:r,formType:n,setFormType:o,setDraftState:d,setSuccessClass:c,state:l})=>{const u=(p,h)=>{const q=p.target;s({id:h,value:q.value}),p.preventDefault()},_=p=>{const h=p.target;a({id:h.id,value:h.value}),r(!1),p.preventDefault()},N=()=>{let p=[];const h=localStorage.getItem("formDraftState");h&&(p=[...JSON.parse(h)]),p.push(l),localStorage.setItem("formDraftState",JSON.stringify(p)),d(p)};return i("div",{className:"Form",children:[e("h2",{className:"Form__title",children:"Generation Form"}),e(Ce,{formType:n,setFormType:o}),e(be,{handleChange:_}),n==="userStory"&&e(ye,{changeCriterion:u,handleChange:_,FormData:t}),n==="bugReport"&&e(Ne,{FormData:t,handleChange:_}),i(m,{className:"Button--filled Button--anim Form__save-btn",onClick:p=>{N(),c({e:p})},children:[e(Z,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Save Draft"})]})]})}),x=[{id:"persona",label:"As a",type:"textinput",placeholder:"type of user",className:"",required:!0},{id:"goal",label:"I want to",type:"textinput",placeholder:"some goal",className:"",required:!0},{id:"reason",label:"so that",type:"textinput",placeholder:"some reason",className:"",required:!0},{id:"description",label:"Description",type:"textarea",placeholder:"This text area is supported for Markdown",className:"FormField__description",required:!0},{id:"acceptanceCriteria",label:"Acceptance Criteria",type:"acceptanceCriteria",placeholder:"press Enter to add more lists",className:"FormField__criteria",required:!1},{id:"browser",label:"Browser",type:"textinput",placeholder:"Chrome 15.0, Firefox 13.2",className:"",required:!0},{id:"devices",label:"Devices",type:"textinput",placeholder:"Android 12, iOS 8",className:"",required:!1}];const Se=b(v,C(["setSuccessClass"]))(({state:t,copyOutput:a,setSuccessClass:s})=>i("div",{className:"SummaryOutputField",children:[e("label",{for:"SummaryOutputField__content",className:"SummaryOutputField__title",children:e("b",{children:"Summary"})}),e("div",{className:"SummaryOutputField__content",children:t.summary}),e("div",{className:"SummaryOutputField__content__actions",children:i(m,{className:"Button--filled Button--anim SummaryOutputField__content__actions__copy-btn",onClick:r=>{a(".SummaryOutputField__content"),s({e:r})},children:[e(I,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Copy Summary"})]})})]})),De=b(v,C(["setSuccessClass"]))(({FormData:t,state:a,isOutputEmpty:s,formType:r,setSuccessClass:n})=>{const o=ee(),d=l=>{const u=document.querySelector(l).innerHTML;navigator.clipboard.writeText(new te({codeBlockStyle:"fenced",headingStyle:"atx",hr:"---"}).turndown(u))},c=T(()=>{});return R(()=>{const l=document.createElement("script");return l.innerHTML=re,document.head.appendChild(l),c.current=markdown,()=>document.head.removeChild(l)},[]),i("div",{className:"Output",children:[e("h2",{className:"Output__title",children:r==="userStory"?"User Story":"Bug Report"}),i("div",{className:"Output__content",children:[s&&e("span",{className:"Output__content--empty",children:"Waiting for input..."}),!s&&i(D,{children:[e(Se,{copyOutput:d}),e("span",{className:"Output__content--body",ref:o,children:t.map(l=>{if(l.label==="Description")return i("div",{className:"Output__description",children:[e("span",{className:"Output__description--label",children:e("b",{children:l.label})}),e("div",{dangerouslySetInnerHTML:a[l.id]===void 0?{__html:"..."}:{__html:c.current(a[l.id])},className:"Output__description--content"})]});if(r==="bugReport"){if(l.label==="Browser")return i("div",{className:"Output__browser",children:[e("span",{className:"Output__browser--label",children:e("b",{children:l.label})}),e("div",{className:"Output__browser--content",children:a[l.id]})]});if(l.label==="Devices")return i("div",{className:"Output__devices",children:[e("span",{className:"Output__devices--label",children:e("b",{children:l.label})}),e("div",{className:"Output__devices--content",children:a[l.id]})]})}if(r==="userStory"){if(l.label==="Acceptance Criteria")return i("div",{className:"Output__acceptance-criteria",children:[e("span",{className:"Output__acceptance-criteria--label",children:e("b",{children:l.label})}),e("ol",{className:"Output__acceptance-criteria--content",children:a[l.id].map((u,_)=>e("li",{children:u},_))})]});if(l.label!=="Browser"&&l.label!=="Devices")return`${l.label} ${a[l.id]?a[l.id]:"..."} `}})}),e("div",{className:"Output__actions",children:i(m,{type:"button",className:"Button--filled Button--anim Output__actions__copy-btn",onClick:l=>{d(".Output__content--body"),n({e:l})},children:[e(I,{className:"icon"}),e(S,{className:"icon-check"}),e("span",{children:"Copy Output"})]})})]})]})]})});function Fe(){const[t,a]=g(!0),[s,r]=g("userStory"),[n,o]=g(JSON.parse(localStorage.getItem("formDraftState")));return e(pe,{children:i(fe,{draftState:n,setDraftState:o,setFormType:r,setIsOutputEmpty:a,children:[e(ge,{setIsOutputEmpty:a,FormData:x,formType:s,setFormType:r,setDraftState:o}),e(De,{isOutputEmpty:t,FormData:x,formType:s})]})})}ae(e(Fe,{}),document.getElementById("app"));
